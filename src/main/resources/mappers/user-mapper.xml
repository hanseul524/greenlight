<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="userMapper">
	<resultMap type="User" id="userResultMap">
		<id property="userId" column="USER_ID"/>
		<result property="userPwd" column="USER_PWD"/>
		<result property="userName" column="USER_NAME"/>
		<result property="userEmail" column="USER_EMAIL"/>
		<result property="userAddr" column="USER_ADDR"/>
		<result property="userPhone" column="USER_PHONE"/>
		<result property="regDate" column="REG_DATE"/>
		<result property="point" column="POINT"/>
		<result property="chargePoint" column="CHARGE_POINT"/>
		<result property="admin" column="ADMIN"/>
		<result property="socialId" column="SOCIAL_ID"/>
	</resultMap>
	
	<select id="loginUser" parameterType="User" resultMap="userResultMap">
		SELECT * FROM USERS WHERE USER_ID = #{userId } AND USER_PWD = #{userPwd }
	</select>
	
	<select id="checkIdDup" resultType="_int">
		SELECT COUNT(*) FROM USERS WHERE USER_ID = #{userId }
	</select>
	
	<select id="findUserId" resultType="_int">
		SELECT COUNT(*) FROM USERS WHERE USER_NAME = #{userName } AND USER_EMAIL = #{userEmail }
	</select>
	
	<select id="selectUserIdByNameAndEmail" resultType="string">
		SELECT USER_ID FROM USERS WHERE USER_NAME = #{userName } AND USER_EMAIL = #{userEmail }
	</select>
	
	<select id="checkUserpwd" resultType="_int">
		SELECT COUNT(*) FROM USERS WHERE USER_ID = #{userId } AND USER_EMAIL = #{userEmail }
	</select>
	
	<select id="selectUserOne" resultMap="userResultMap">
        SELECT * FROM USERS WHERE USER_ID = #{userId}
     </select>
	
  	<insert id="insertUser" parameterType="User">
  		INSERT INTO USERS VALUES(#{userId }, #{userPwd }, #{userName }, #{userEmail }, #{userAddr }, #{userPhone }, DEFAULT, DEFAULT, DEFAULT, DEFAULT, null)
  	</insert>
  	
  	<update id="updateUserPwd">
  		UPDATE USERS SET USER_PWD = #{userPwd } WHERE USER_ID = #{userId }
  	</update>
</mapper>