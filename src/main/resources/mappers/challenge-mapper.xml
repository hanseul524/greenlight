<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="challengeMapper">
	<resultMap type="Challenge" id="challengeResultMap">
		<id property="chNo" column="CH_NO"/>
		<result property="categoryNo" column="CATEGORY_NO"/>
		<result property="chWriter" column="USER_ID"/>
		<result property="chTitle" column="CH_TITLE"/>
		<result property="chContents" column="CH_CONTENTS"/>
		<result property="writeDate" column="WRITE_DATE"/>
		<result property="likeCount" column="CHLIKE_COUNT"/>
		<result property="replyCount" column="REPLY_COUNT"/>
		<result property="chConfirm" column="CH_CONFIRM"/>
		<result property="filePath" column="FILE_PATH"/>
		<result property="fileName" column="FILE_NAME"/>
		<result property="fileSize" column="FILE_SIZE"/>
		<result property="fileDate" column="FILE_DATE"/>
	</resultMap>
	
	<insert id="insertCh">
		INSERT ALL
		INTO CHALLENGE VALUES(SEQ_CH_NO.NEXTVAL, #{categoryNo}, #{chWriter}, #{chTitle}, #{chContents},
		DEFAULT, DEFAULT, DEFAULT, DEFAULT)
		INTO CALLENGE_FILE VALUES(SEQ_CH_NO.NEXTVAL, #{chWriter}, #{categoryNo}, #{filePath}, #{fileName}, #{fileSize}, DEFAULT)
	</insert>
</mapper>